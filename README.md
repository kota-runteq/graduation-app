# 外食チェーンマルチデータベース

## ■ サービス概要

糖質制限または脂質制限中でも食べられるチェーン店の外食メニューを検索できるWebアプリ。
メニューのたんぱく質、脂質、糖質などのデータベースを備え、店舗やメニューカテゴリからメニューを検索するだけでなく、検索結果を成分でフィルタリングしたり、成分量からメニューを検索することができる。
成分情報が公開されているチェーン店に限定し、情報の正確さと他にない検索方法を有したアプリを目指す。

---

## ■ このサービスへの思い・作りたい理由

ダイエット中または健康志向が高まった人が外食をする際に利用するアプリ。
ダイエットでは食事管理が最も重要な要素であり、厳格な栄養素の管理がカギとなる。そのため、自炊が推奨されるが、食事を管理してこなかった人には自炊のハードルが高いと考えられる。
近年では、外食チェーン店でも健康志向を意識したメニューが提供されており、自炊だけでなく外食に対する健康志向の需要が存在すると言える。
しかし、来店しても「何が食べられるか」はメニューからはわからない。また、「食べられるものがあるのか」を知るには、PDFファイルなどで公開されている成分表をWebで探し、一品ずつ確認する必要があり、非常に手間がかかる。
このサービスでは、栄養素を軸に自分に適合したメニューを検索することをメインコンテンツとし、店選び、メニュー選び、店を出た後での情報の管理という3つの方法でユーザーに利便性を提供したい。
自身もダイエット中に、牛丼チェーンで牛丼を食べていたとき、異なる店の牛丼並盛の栄養素を見比べると、同じようなメニューでも100kcal以上の差があることに気づいた。その後、外食する際には栄養表から食べられそうなものに目星をつけておく作業をしていた。
このような経験から、栄養素に関する情報が一元管理され、その中から自分に適したものを選択・管理できるアプリがあればよいと考えた。

---

## ■ ユーザー層について

- ダイエット（脂質制限、糖質制限、ケトジェニックダイエット）をしている人  
- 糖尿病や高血糖により糖質制限が必要な人  
- 増量を目的とする人  
- 自炊の手間を避けつつ、健康管理を意識している人  
- レコーディングダイエットで記録を作る人  

---

## ■ サービスの利用イメージ

- ユーザーはメニューの栄養素を簡単に検索し、記録に役立てる。また、食べるものを選択する際に役立つ。
- 店舗、栄養素、カロリー、カテゴリなどからメニューを検索し、順序に並び替えて表示できる。
- 麺抜きラーメンなどの存在に気づきにくいメニューが検索結果に表示されることで、ユーザーの新たな選択肢を提起できる。
- データベースに情報がある店を地図上に表示する。また、登録したメニューのある店も表示され、店舗選びの参考になる。
- 食事のPFCバランスやカロリーを表示したり、選んだメニュー同士を比較できる。
- 食べたメニューやお気に入りを登録することで、マンネリ化を防止できる。

---

## ■ ユーザーの獲得について

- 食事のPFCバランスやメニューをSNSで共有する機能を実装し、認知拡大を図る。
- レコーディングダイエットとの親和性を訴求する。

---

## ■ サービスの差別化ポイント・推しポイント

健康管理系アプリは食事の成分を確認できるが、成分からの検索やフィルタリング機能は乏しい。例えば、
- 「あすけん」などではメニュー選択から成分確認は可能だが、成分から探すには一覧を一つずつ確認する手間がかかる。
- 「食べログ」などの飲食店検索アプリはレビュー中心で、栄養素を基軸とした検索機能は備えていない。

外食チェーンのデータベースも存在するが、カロリー中心で成分ごとの絞り込みなどは行えない。
- チェーン店に限定することで、信頼性のある定量的データを提供できる。
- 個人店を除外することで、情報収集・データ管理のコストを削減し、実装の現実性を高めている。

---

## ■ 機能候補

### MVPリリース時に実装したいもの

- メニュー検索機能
	- メニューの成分表示機能
	- 成分によるメニュー絞り込み機能
- チェーン店検索機能
	- データベースに存在する店舗を地図に表示
	- カテゴリ別検索機能
- ユーザー登録機能
- ログイン機能
- パスワード変更機能
- お気に入りメニュー登録機能
- お気に入りメニュー解除機能
- 食べたメニュー登録機能
- 食べたメニュー解除機能
- 食事追加機能
- 食事登録機能
- 食事削除機能
- 食事の詳細表示（日時・店舗・メニュー・成分合計）

### 本リリースまでに実装したいもの

- 最近食べたメニューに近いものの除外検索
- パーソナライズ提案
- 成分量の分析機能
- snsシェア機能（例：「今日はこんな低糖質メニューを食べた」）
- マルチ検索機能（複数軸での検索インターフェース）
- 選んだメニューがある店舗を地図に表示する機能

## ■ 機能の実装方針予定

- 地図検索機能は Google Maps Platform を使用し、店舗のマップ表示と現在地検索を実装
- 栄養情報はチェーン店のPDFやWeb情報をスクレイピングまたはCSVからインポート。
- 履歴・分析機能はユーザーの過去データをDBに保存し、成分・カテゴリ・日付で分析。
- マルチ検索機能はRansackを用い、カテゴリ・栄養素・店舗名・エリアなど複数軸を組み合わせて絞り込み。
- オートコンプリート機能は stimulus-autocomplete を用いて部分一致表示を実装。「らーめん」と入力して「とんこつらーめん」が出るなど。

## 使用技術

### 言語・フレームワーク

- Ruby 3.2.2  
- Ruby on Rails 7.x  
- MySQL 8.0  
### フロントエンド・UI

- Hotwire（Turbo / Stimulus）  
- Bootstrap 5  
- stimulus-autocomplete  

### インフラ・デプロイ・開発環境

- AWS（EC2 / RDS / S3 予定）  
- Docker / Docker Compose（開発環境用）  
- Nginx + Puma（本番サーバ構成予定）    

### 補助ツール・ライブラリ
  
- Yarn / ESBuild  
- Ransack（検索機能）  
- Nokogiri（スクレイピング）  
- Google Maps Platform（地図表示）

---

## 画面遷移図
Figma：https://www.figma.com/design/RWYhovjI95EaDeGEHS2s39/Untitled?node-id=0-1&t=HDmVmVIkaW8m6yh8-1

---
